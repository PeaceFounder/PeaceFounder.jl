<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PeaceFounder.Server.Controllers · PeaceFounder.jl</title><meta name="title" content="PeaceFounder.Server.Controllers · PeaceFounder.jl"/><meta property="og:title" content="PeaceFounder.Server.Controllers · PeaceFounder.jl"/><meta property="twitter:title" content="PeaceFounder.Server.Controllers · PeaceFounder.jl"/><meta name="description" content="Documentation for PeaceFounder.jl."/><meta property="og:description" content="Documentation for PeaceFounder.jl."/><meta property="twitter:description" content="Documentation for PeaceFounder.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.8/swagger-ui-bundle.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.8/swagger-ui.css" rel="stylesheet" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PeaceFounder.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PeaceFounder.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">PeaceFounder.jl</a></li><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../setup/">Setup</a></li><li><a class="tocitem" href="../client/">Client</a></li><li><a class="tocitem" href="../audit/">Audit</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../schema/">HTTP</a></li><li><a class="tocitem" href="../model/">PeaceFounder.Core.Model</a></li><li><a class="tocitem" href="../audittools/">PeaceFounder.Core.AuditTools</a></li><li class="is-active"><a class="tocitem" href>PeaceFounder.Server.Controllers</a><ul class="internal"><li><a class="tocitem" href="#Registrar"><span>Registrar</span></a></li><li><a class="tocitem" href="#BraidChain"><span>BraidChain</span></a></li><li><a class="tocitem" href="#BallotBox-and-PollingStation"><span>BallotBox and PollingStation</span></a></li></ul></li></ul></li><li><span class="tocitem">Utilities</span><ul><li><a class="tocitem" href="../schedulers/">PeaceFounder.Schedulers</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>PeaceFounder.Server.Controllers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PeaceFounder.Server.Controllers</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/PeaceFounder/PeaceFounder.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/master/docs/src/controllers.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="PeaceFounder.Server.Controllers"><a class="docs-heading-anchor" href="#PeaceFounder.Server.Controllers">PeaceFounder.Server.Controllers</a><a id="PeaceFounder.Server.Controllers-1"></a><a class="docs-heading-anchor-permalink" href="#PeaceFounder.Server.Controllers" title="Permalink"></a></h1><h2 id="Registrar"><a class="docs-heading-anchor" href="#Registrar">Registrar</a><a id="Registrar-1"></a><a class="docs-heading-anchor-permalink" href="#Registrar" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.Registrar" href="#PeaceFounder.Server.Controllers.Registrar"><code>PeaceFounder.Server.Controllers.Registrar</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Registrar
    metadata::Ref{Vector{UInt8}} 
    tickets::Vector{Ticket}
    signer::Signer
    hmac::HMAC
end</code></pre><p>Represents a state for token registrar service. To initialize the service it&#39;s necessary to create a signer who can issue a valid admisssion certificates and a secret key with which a recruit client can exchange authorized messages. See also method <code>generate(Registrar, spec)</code>.</p><p>Metadata is used as means to securelly deliver to the client most recent server specification. </p><p><strong>Interface:</strong> <a href="#PeaceFounder.Server.Controllers.hmac-Tuple{PeaceFounder.Server.Controllers.Registrar}"><code>hmac</code></a>, <a href="../model/#PeaceFounder.Core.Model.hasher-Tuple{PeaceFounder.Core.Model.HMAC}"><code>hasher</code></a>, <a href="../model/#PeaceFounder.Core.Model.key-Tuple{PeaceFounder.Core.Model.HMAC}"><code>key</code></a>, <a href="../model/#PeaceFounder.Core.Model.id"><code>id</code></a>, <a href="#PeaceFounder.Server.Controllers.tickets-Tuple{PeaceFounder.Server.Controllers.Registrar}"><code>tickets</code></a>, <a href="#Base.in-Tuple{PeaceFounder.Core.Model.TicketID, PeaceFounder.Server.Controllers.Registrar}"><code>in</code></a>, <a href="#PeaceFounder.Server.Controllers.enlist!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.TicketID, Dates.DateTime}"><code>enlist!</code></a>, <a href="#PeaceFounder.Server.Controllers.admit!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.Pseudonym, PeaceFounder.Core.Model.TicketID}"><code>admit!</code></a>, <a href="#PeaceFounder.Core.ProtocolSchema.isadmitted-Tuple{PeaceFounder.Core.Model.TicketID, PeaceFounder.Server.Controllers.Registrar}"><code>isadmitted</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.Ticket" href="#PeaceFounder.Server.Controllers.Ticket"><code>PeaceFounder.Server.Controllers.Ticket</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Ticket
    const ticketid::TicketID
    timestamp::DateTime
    attempt::UInt8
    token::Digest
    tokenid::String # 
    admission::Union{Admission, Nothing}
end</code></pre><p>Represents a ticket state for ticket with <code>ticketid</code>. <code>timestamp</code> represents time when the ticket have been issued by a registrar client in authorization system of choice, for instance, Registrars.jl; <code>attempt</code> is a counter with which token can be reset which is calculated with <code>token(ticketid, attempt, hmac)</code>. Lastly <code>admission</code> contains a certified member pseudonym which was authetificated by the user with <code>token</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L15-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.in-Tuple{PeaceFounder.Core.Model.TicketID, PeaceFounder.Server.Controllers.Registrar}" href="#Base.in-Tuple{PeaceFounder.Core.Model.TicketID, PeaceFounder.Server.Controllers.Registrar}"><code>Base.in</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">in(ticketid::TicketID, registrar::Registrar)::Bool</code></pre><p>Return true if there already is a ticket with <code>ticketid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L143-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.generate-Tuple{Type{PeaceFounder.Server.Controllers.Registrar}, PeaceFounder.Core.Model.CryptoSpec}" href="#PeaceFounder.Core.Model.generate-Tuple{Type{PeaceFounder.Server.Controllers.Registrar}, PeaceFounder.Core.Model.CryptoSpec}"><code>PeaceFounder.Core.Model.generate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate(Registrar, spec::CryptoSpec)</code></pre><p>Generate a new token registrar with unique signer and athorization key.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.ProtocolSchema.isadmitted-Tuple{PeaceFounder.Core.Model.TicketID, PeaceFounder.Server.Controllers.Registrar}" href="#PeaceFounder.Core.ProtocolSchema.isadmitted-Tuple{PeaceFounder.Core.Model.TicketID, PeaceFounder.Server.Controllers.Registrar}"><code>PeaceFounder.Core.ProtocolSchema.isadmitted</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isadmitted(ticketid::TicketID, registrar::Registrar)</code></pre><p>Check whether a ticket is already admitted. Returns false when either ticket is nonexistent or it&#39;s admission is nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L248-L252">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.admit!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.Pseudonym, PeaceFounder.Core.Model.TicketID}" href="#PeaceFounder.Server.Controllers.admit!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.Pseudonym, PeaceFounder.Core.Model.TicketID}"><code>PeaceFounder.Server.Controllers.admit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">admit!(registrar::Registrar, id::Pseudonym, ticketid::TicketID)::Admission</code></pre><p>Attempt to admit an identity pseudonym <code>id</code> for ticket <code>ticketid</code>. Authorization is expected to happen at the service layer using provided token in the invite. If a ticket is already registered return admission if it matches the provided <code>id</code>. Otherwise throe an error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L222-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.enlist!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.TicketID, Dates.DateTime}" href="#PeaceFounder.Server.Controllers.enlist!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.TicketID, Dates.DateTime}"><code>PeaceFounder.Server.Controllers.enlist!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">enlist!(registrar::Registrar, ticketid::TicketID, timestamp::DateTime; route::URI=registrar.route)::Invite</code></pre><p>Registers a new ticket with given <code>TicketID</code> and returns an invite. If ticket is already registered the same invite is returned. Throws an error when ticket is already registered.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L186-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.hmac-Tuple{PeaceFounder.Server.Controllers.Registrar}" href="#PeaceFounder.Server.Controllers.hmac-Tuple{PeaceFounder.Server.Controllers.Registrar}"><code>PeaceFounder.Server.Controllers.hmac</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hmac(x)::HMAC</code></pre><p>Return HMAC authorizer from a given object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.set_demehash!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.Digest}" href="#PeaceFounder.Server.Controllers.set_demehash!-Tuple{PeaceFounder.Server.Controllers.Registrar, PeaceFounder.Core.Model.Digest}"><code>PeaceFounder.Server.Controllers.set_demehash!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_demespec!(registrar::Registrar, spec::Union{Digest, DemeSpec})</code></pre><p>Replace metadata for a registrar. Note when data is replaced all unfinalized tokens need to be flushed. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L174-L178">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.tickets-Tuple{PeaceFounder.Server.Controllers.Registrar}" href="#PeaceFounder.Server.Controllers.tickets-Tuple{PeaceFounder.Server.Controllers.Registrar}"><code>PeaceFounder.Server.Controllers.tickets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tickets(registrar::Registrar)::Vector{TicketID}</code></pre><p>Return a list of registered ticket ids. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L136-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.token-Tuple{PeaceFounder.Core.Model.TicketID, UInt8, CryptoPRG.HashSpec, Vector{UInt8}}" href="#PeaceFounder.Server.Controllers.token-Tuple{PeaceFounder.Core.Model.TicketID, UInt8, CryptoPRG.HashSpec, Vector{UInt8}}"><code>PeaceFounder.Server.Controllers.token</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">token(ticketid::TicketID, hmac::HMAC)</code></pre><p>Compute a recruit token for a given ticketid. Calculates it as <code>token=Hash(Hash(0|key)|attempt|ticketid)</code>  where attempt is a counter for which token is issued.</p><p>Note: the token generation from key is made in order to support it&#39;s local computation on a remote server where QR code for registration is shown within organization website.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/registrar.jl#L150-L158">source</a></section></article><h2 id="BraidChain"><a class="docs-heading-anchor" href="#BraidChain">BraidChain</a><a id="BraidChain-1"></a><a class="docs-heading-anchor-permalink" href="#BraidChain" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.BraidChainController" href="#PeaceFounder.Server.Controllers.BraidChainController"><code>PeaceFounder.Server.Controllers.BraidChainController</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct BraidChain
    members::Set{Pseudonym}
    ledger::BraidChainLedger
    spec::DemeSpec
    generator::Generator
    tree::HistoryTree
    commit::Union{Commit{ChainState}, Nothing}
end</code></pre><p>Represents a braidchain ledger with it&#39;s associated state. Can be instantitated with a demespec file using <code>BraidChain(::DemeSpec)</code> method.</p><p><strong>Interface:</strong>  <a href="#Base.push!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Transaction}"><code>push!</code></a>, <a href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}"><code>record!</code></a>, <a href="../model/#PeaceFounder.Core.Model.state-Tuple{PeaceFounder.Core.Model.Commit}"><code>state</code></a>, <a href="#Base.length-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>length</code></a>, <a href="#PeaceFounder.Server.Controllers.list-Union{Tuple{T}, Tuple{Type{T}, PeaceFounder.Server.Controllers.BraidChainController}} where T&lt;:PeaceFounder.Core.Model.Transaction"><code>list</code></a>, <a href="#PeaceFounder.Core.Model.select-Union{Tuple{T}, Tuple{Type{T}, Function, PeaceFounder.Server.Controllers.BraidChainController}} where T&lt;:PeaceFounder.Core.Model.Transaction"><code>select</code></a>, <a href="#PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>generator</code></a>, <a href="#PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>commit</code></a>, <a href="#PeaceFounder.Server.Controllers.commit_index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>commit_index</code></a>, <a href="#PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>ledger</code></a>, <a href="#HistoryTrees.leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>leaf</code></a>, <a href="#HistoryTrees.root-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>root</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>ack_leaf</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>ack_root</code></a>, <a href="#PeaceFounder.Core.Model.members-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>members</code></a>, <a href="#PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Signer}"><code>commit!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L15-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.push!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Transaction}" href="#Base.push!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Transaction}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">push!(ledger::BraidChainController, t::Transaction)</code></pre><p>Add an element to the BraidChainController bypassing transaction verification with the chain. This should only be used when the ledger is loaded from a trusted source like a local disk or when final root hash is validated with a trusted source.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L142-L148">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HistoryTrees.leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}" href="#HistoryTrees.leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>HistoryTrees.leaf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">leaf(ledger::BraidChainController, N::Int)::Digest</code></pre><p>Return a ledger&#39;s element digest at given index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L204-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HistoryTrees.root-Tuple{PeaceFounder.Server.Controllers.BraidChainController}" href="#HistoryTrees.root-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>HistoryTrees.root</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">root(ledger::BraidChainController[, N::Int])::Digest</code></pre><p>Return a ledger root digest. In case when index is not given a current index is used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L211-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BraidChainController}" href="#PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>PeaceFounder.Core.Model.commit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit(ledger::BraidChainController)</code></pre><p>Return a current commit for a braichain. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L192-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}" href="#PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>PeaceFounder.Core.Model.generator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generator(ledger[, index])</code></pre><p>Return a generator at braidchain ledger row index. If <code>index</code> is omitted return the current state value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L251-L255">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BraidChainController}" href="#PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>PeaceFounder.Core.Model.generator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generator(ledger::BraidChainController)</code></pre><p>Return a current relative generator for a braidchain ledger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L185-L189">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.isbinding-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.ChainState}" href="#PeaceFounder.Core.Model.isbinding-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.ChainState}"><code>PeaceFounder.Core.Model.isbinding</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isbinding(chain::BraidChainController, state::ChainState)::Bool</code></pre><p>Check that chain state is consistent with braidchain ledger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L375-L379">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.members-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}" href="#PeaceFounder.Core.Model.members-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>PeaceFounder.Core.Model.members</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">members(chain::BraidChainController, [n::Int])::Set</code></pre><p>Return a set of member pseudonyms which at given anchor index can participate in voting or braiding.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L270-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.select-Union{Tuple{T}, Tuple{Type{T}, Function, PeaceFounder.Server.Controllers.BraidChainController}} where T&lt;:PeaceFounder.Core.Model.Transaction" href="#PeaceFounder.Core.Model.select-Union{Tuple{T}, Tuple{Type{T}, Function, PeaceFounder.Server.Controllers.BraidChainController}} where T&lt;:PeaceFounder.Core.Model.Transaction"><code>PeaceFounder.Core.Model.select</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">select(T, predicate::Function, ledger::BraidChainController)::Union{T, Nothing}</code></pre><p>Return a first element from a ledger with a type <code>T</code> which satisfies a predicate. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}" href="#PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>PeaceFounder.Server.Controllers.ack_leaf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_leaf(ledger::BraidChainController, index::Int)::AckInclusion</code></pre><p>Return a proof for record inclusion with respect to a current braidchain ledger history tree root. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L222-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}" href="#PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>PeaceFounder.Server.Controllers.ack_root</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_root(ledger::BraidChainController, index::Int)</code></pre><p>Return a proof for the ledger root at given index with respect to the current braidchain ledger history tree root.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L236-L240">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Signer}" href="#PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Signer}"><code>PeaceFounder.Server.Controllers.commit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit!(ledger::BraidChainController, signer::Signer)</code></pre><p>Commit a current braidchain ledger state with a signer&#39;s issued cryptographic signature. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L295-L299">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.list-Union{Tuple{T}, Tuple{Type{T}, PeaceFounder.Server.Controllers.BraidChainController}} where T&lt;:PeaceFounder.Core.Model.Transaction" href="#PeaceFounder.Server.Controllers.list-Union{Tuple{T}, Tuple{Type{T}, PeaceFounder.Server.Controllers.BraidChainController}} where T&lt;:PeaceFounder.Core.Model.Transaction"><code>PeaceFounder.Server.Controllers.list</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">list(T, ledger::BraidChainController)::Vector{Tuple{Int, T}}</code></pre><p>List braidchain elements with a given type together with their index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L153-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.reset_tree!-Tuple{PeaceFounder.Server.Controllers.BraidChainController}" href="#PeaceFounder.Server.Controllers.reset_tree!-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>PeaceFounder.Server.Controllers.reset_tree!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reset_tree!(ledger::BraidChainController)</code></pre><p>Recompute a chain tree hash. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/braidchain.jl#L117-L121">source</a></section></article><h2 id="BallotBox-and-PollingStation"><a class="docs-heading-anchor" href="#BallotBox-and-PollingStation">BallotBox and PollingStation</a><a id="BallotBox-and-PollingStation-1"></a><a class="docs-heading-anchor-permalink" href="#BallotBox-and-PollingStation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.BallotBoxController" href="#PeaceFounder.Server.Controllers.BallotBoxController"><code>PeaceFounder.Server.Controllers.BallotBoxController</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct BallotBoxController
    ledger::BallotBoxLedger
    voters::Set{Pseudonym} # better than members
    collector::Pseudonym
    seed::Union{Digest, Nothing}
    queue::Vector{Vote}
    tree::HistoryTree
    commit::Union{Commit{BallotBoxState}, Nothing}
end</code></pre><p>Represents a ballot box for a proposal. Contains <code>proposal</code>, a set of eligiable <code>voters</code> a <code>collector</code> who collects the votes and a <code>seed</code> which is selected at random when the voting starts. <code>queue</code> contains a list of valid votes which yet to be comitted to a <code>ledger</code>. A history <code>tree</code> is built on leafs of ledger&#39;s receipts (see a <a href="#PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>receipt</code></a> method). A <code>commit</code> contains a collector seal on the current ballotbox state. </p><p><strong>Interface:</strong> <a href="#PeaceFounder.Server.Controllers.reset_tree!-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>reset_tree!</code></a>, <a href="#PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>generator</code></a>, <a href="#PeaceFounder.Core.Model.uuid-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>uuid</code></a>, <a href="#PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>ledger</code></a>, <a href="#PeaceFounder.Server.Controllers.spine-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>spine</code></a>, <a href="#PeaceFounder.Core.Model.index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>index</code></a>, <a href="#PeaceFounder.Core.Model.seed-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>seed</code></a>, <a href="#HistoryTrees.leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>leaf</code></a>, <a href="#HistoryTrees.root-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>root</code></a>, <a href="#PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>receipt</code></a>, <a href="#PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>commit</code></a>, <a href="#PeaceFounder.Core.Model.tally-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>tally</code></a>, <a href="#PeaceFounder.Server.Controllers.set_seed!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Digest}"><code>set_seed!</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>ack_leaf</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>ack_root</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_cast-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>ack_cast</code></a>, <a href="#PeaceFounder.Server.Controllers.commit_index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>commit_index</code></a>, <a href="#PeaceFounder.Server.Controllers.commit_state-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>commit_state</code></a>, <a href="#Base.push!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Transaction}"><code>push!</code></a>, <a href="../model/#PeaceFounder.Core.Model.state-Tuple{PeaceFounder.Core.Model.Commit}"><code>state</code></a>, <a href="#PeaceFounder.Server.Controllers.validate-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Vote}"><code>validate</code></a>, <a href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}"><code>record!</code></a>, <a href="#PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Signer}"><code>commit!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L14-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.PollingStation" href="#PeaceFounder.Server.Controllers.PollingStation"><code>PeaceFounder.Server.Controllers.PollingStation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct PollingStation
    halls::Vector{BallotBoxController}
    crypto::CryptoSpec
end</code></pre><p>Represents a pooling station which hosts ballotbox ledgers for every proposal collector manages. </p><p><strong>Interface:</strong> <a href="#PeaceFounder.Server.Controllers.init!-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.DemeSpec, PeaceFounder.Core.Model.Proposal, Vector{PeaceFounder.Core.Model.Pseudonym}, PeaceFounder.Core.Model.Pseudonym}"><code>init!</code></a>, <a href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}"><code>record!</code></a>, <a href="#PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Signer}"><code>commit!</code></a>, <a href="#PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BraidChainController}"><code>commit</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>ack_leaf</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BraidChainController, Int64}"><code>ack_root</code></a>, <a href="#PeaceFounder.Server.Controllers.ack_cast-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>ack_cast</code></a>, <a href="#PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>receipt</code></a>, <a href="#PeaceFounder.Server.Controllers.spine-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>spine</code></a>, <a href="#PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>ledger</code></a>, <a href="#PeaceFounder.Core.Model.tally-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>tally</code></a>, <a href="#PeaceFounder.Server.Controllers.set_seed!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Digest}"><code>set_seed!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L410-L419">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.get-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}" href="#Base.get-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>Base.get</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get(station::PollingStation, uuid::UUID)::BallotBoxController</code></pre><p>Return a ballotbox ledger with a provided UUID. If none is found throws an error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L466-L470">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.get-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.Digest}" href="#Base.get-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.Digest}"><code>Base.get</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get(station::PollingStation, proposal::Digest)::BallotBoxController</code></pre><p>Return a ballotbox which has proposal with provided digest.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L480-L484">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.getindex-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#Base.getindex-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getindex(ledger::BallotBoxController, index::Int)::CastRecord</code></pre><p>Return a ledger record at provided <code>index</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L166-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.length-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#Base.length-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>Base.length</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">length(ledger::BallotBoxController)</code></pre><p>Return a total length of the ledger including uncommited records in the queue.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L129-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.push!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}" href="#Base.push!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">push!(ledger::BallotBoxController, record::CastRecord)</code></pre><p>Push a <code>record</code> to the <code>ledger</code> bypassing integrity checks. Used when loading the ledger from a trusted source such as local disk or an archive with a signed root cheksum.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L269-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HistoryTrees.leaf-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#HistoryTrees.leaf-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>HistoryTrees.leaf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">leaf(ledger::BallotBoxController, N::Int)::Digest</code></pre><p>Return a record digest used to form a history tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L150-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HistoryTrees.root-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#HistoryTrees.root-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>HistoryTrees.root</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">root(ledger::BallotBoxController[, N::Int])::Digest</code></pre><p>Calculate a root for history tree at given index <code>N</code>. If index is not specified returns the current value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L157-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Core.Model.commit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit(ledger::BallotBoxController)</code></pre><p>Return a commit for the ballotbox ledger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L181-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}" href="#PeaceFounder.Core.Model.commit-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>PeaceFounder.Core.Model.commit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit(station::PollingStation, uuid::UUID)::Commit</code></pre><p>Return a ballotbox commit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L535-L539">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Core.Model.generator-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Core.Model.generator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generator(ledger::BallotBoxController)</code></pre><p>Return a relative generator which members use to sign votes anchored by the proposal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L93-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Core.Model.index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Core.Model.index</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">index(ledger::BallotBoxController)</code></pre><p>Return the current index of the ledger. See also <a href="#Base.length-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>length</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L136-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.isbinding-Tuple{PeaceFounder.Core.Model.Vote, PeaceFounder.Core.ProtocolSchema.CastAck, PeaceFounder.Core.Model.CryptoSpec}" href="#PeaceFounder.Core.Model.isbinding-Tuple{PeaceFounder.Core.Model.Vote, PeaceFounder.Core.ProtocolSchema.CastAck, PeaceFounder.Core.Model.CryptoSpec}"><code>PeaceFounder.Core.Model.isbinding</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isbinding(vote::Vote, ack::CastAck, hasher)</code></pre><p>Check whether acknowledgment is bound to the provided vote.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L219-L223">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>PeaceFounder.Core.Model.receipt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">receipt(ledger::BallotBoxController, index::Int)::CastReceipt</code></pre><p>Return a receipt for a ledger element.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L174-L178">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}" href="#PeaceFounder.Core.Model.receipt-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}"><code>PeaceFounder.Core.Model.receipt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">receipt(station::PollingStation, uuid::UUID, N::Int)::CastReceipt</code></pre><p>Return a receipt for a record with index <code>N</code> at ballotbox with <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L571-L575">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.seed-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Core.Model.seed-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Core.Model.seed</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">seed(ledger::BallotBoxController)::Union{Digest, Nothing}</code></pre><p>Return a random selected seed used in the voting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L143-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.tally-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}" href="#PeaceFounder.Core.Model.tally-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>PeaceFounder.Core.Model.tally</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tally(station::PollingStation, uuid::UUID)</code></pre><p>Compute a tally from ledger records a ballotbox with <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L585-L589">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.uuid-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Core.Model.uuid-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Core.Model.uuid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">uuid(ledger::BallotBoxController)</code></pre><p>Return a UUID of the proposal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L100-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Core.Model.voters-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Core.Model.voters-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Core.Model.voters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">voters(ledger::BallotBoxController)</code></pre><p>Return a list of member pseudonyms with which members authetificate their votes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L107-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_cast-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#PeaceFounder.Server.Controllers.ack_cast-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>PeaceFounder.Server.Controllers.ack_cast</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_cast(ledger::BallotBoxController, index::Int)::CastAck</code></pre><p>Compute an acknowledgment for record inclusion at <code>index</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L241-L245">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_cast-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}" href="#PeaceFounder.Server.Controllers.ack_cast-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}"><code>PeaceFounder.Server.Controllers.ack_cast</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_cast(station::PollingStation, uuid::UUID, N::Int)::CastAck</code></pre><p>Return inclusion proof with receipt and current tree commit for a leaf at index <code>N</code> and ballotbox with <code>uuid</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L556-L560">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>PeaceFounder.Server.Controllers.ack_leaf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_leaf(ledger::BallotBoxController, index::Int)::AckInclusion</code></pre><p>Compute an inclusion proof <code>::AckInclusion</code> for record element at given <code>index</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L204-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}" href="#PeaceFounder.Server.Controllers.ack_leaf-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}"><code>PeaceFounder.Server.Controllers.ack_leaf</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_leaf(station::PollingStation, uuid::UUID, N::Int)::AckInclusion</code></pre><p>Return history tree inclusion proof for a tree leaf at index <code>N</code> in ballotbox with <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L542-L546">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}" href="#PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Int64}"><code>PeaceFounder.Server.Controllers.ack_root</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_root(ledger::BallotBoxController, index::Int)::AckConsistency</code></pre><p>Compute a history tree consistency proof at <code>index</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L227-L231">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}" href="#PeaceFounder.Server.Controllers.ack_root-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, Int64}"><code>PeaceFounder.Server.Controllers.ack_root</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ack_root(station::PollingStation, uuid::UUID, N::Int)::AckConsistency</code></pre><p>Return history tree consitency proof tree root at index <code>N</code> in ballotbox with <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L549-L553">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Dates.DateTime, PeaceFounder.Core.Model.Signer}" href="#PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, Dates.DateTime, PeaceFounder.Core.Model.Signer}"><code>PeaceFounder.Server.Controllers.commit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit!(ledger::BallotBoxController[, timestamp::DataTime], signer::Signer; with_tally=nothing)</code></pre><p>Flushes ballotbox ledger&#39;s queue and creates a commit for a current ballotbox ledger state with provided <code>timestamp</code> and <code>signer</code>. A keyword argument <code>with_tally</code> has three values <code>true|false</code> to include or exclude a tally from a commited state and <code>nothing</code> which uses a previous commit preference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L378-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, PeaceFounder.Core.Model.Signer}" href="#PeaceFounder.Server.Controllers.commit!-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, PeaceFounder.Core.Model.Signer}"><code>PeaceFounder.Server.Controllers.commit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit!(station::PollingStation, uuid::UUID, collector::Signer; with_tally = nothing)</code></pre><p>Select a ballotbox with provided uuid and commit it&#39;s state with collector. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L528-L532">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.commit_index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Server.Controllers.commit_index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Server.Controllers.commit_index</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit_index(ledger::BallotBoxController)::Union{Index, Nothing}</code></pre><p>Index at which commit is issued. See also <a href="#Base.length-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>length</code></a> and <a href="#PeaceFounder.Core.Model.index-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>index</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L255-L259">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.commit_state-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Server.Controllers.commit_state-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Server.Controllers.commit_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">commit_state(ledger::BallotBoxController)</code></pre><p>Return a committed state for a ballotbox ledger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L262-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.init!-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.DemeSpec, PeaceFounder.Core.Model.Proposal, Vector{PeaceFounder.Core.Model.Pseudonym}, PeaceFounder.Core.Model.Pseudonym}" href="#PeaceFounder.Server.Controllers.init!-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.DemeSpec, PeaceFounder.Core.Model.Proposal, Vector{PeaceFounder.Core.Model.Pseudonym}, PeaceFounder.Core.Model.Pseudonym}"><code>PeaceFounder.Server.Controllers.init!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">init!(station::PollingStation, proposal::Proposal, voters::Set{Pseudonym}[, collector::Pseudonym])</code></pre><p>Creates a new ballotbox for given proposal with provided member pseudonyms at a relative generator anchored in the proposal.  A collector is optional and provided only when it differs from one specified in the proposal. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L437-L442">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Server.Controllers.ledger</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ledger(ballotbox::BallotBoxController)::Vector{CastRecord}</code></pre><p>Return all records from a ballotbox ledger.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L114-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}" href="#PeaceFounder.Server.Controllers.ledger-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>PeaceFounder.Server.Controllers.ledger</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ledger(station::PollingStation, uuid::UUID)::Vector{CastRecord}</code></pre><p>Return a vector of records from a ballotbox with <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L578-L582">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}" href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}"><code>PeaceFounder.Server.Controllers.record!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">record!(ledger::BallotBoxController, record::CastRecord)</code></pre><p>Check the vote in the record for validity and include that in the ledger directly bypassing queue.  This method is useful for replaying and debugging ballotbox ledger state changes.  See also <a href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.CastRecord}"><code>record!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L353-L359">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Vote}" href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Vote}"><code>PeaceFounder.Server.Controllers.record!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">record!(ledger::BallotBoxController, vote::Vote)</code></pre><p>Check the vote for validity and pushes it to the queue. Returns an index <code>N</code> at which the vote will be recorded in the ledger. See also <a href="#Base.push!-Tuple{PeaceFounder.Server.Controllers.BraidChainController, PeaceFounder.Core.Model.Transaction}"><code>push!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L329-L334">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, PeaceFounder.Core.Model.Vote}" href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, PeaceFounder.Core.Model.Vote}"><code>PeaceFounder.Server.Controllers.record!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">record!(station::PollingStation, uuid::UUID, vote::Vote)::Int</code></pre><p>Records a <code>vote</code> in a ballotbox with provided proposal UUID. Throws an error if a ballotbox can&#39;t be found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L500-L505">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.Vote}" href="#PeaceFounder.Server.Controllers.record!-Tuple{PeaceFounder.Server.Controllers.PollingStation, PeaceFounder.Core.Model.Vote}"><code>PeaceFounder.Server.Controllers.record!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">record!(station::PollingStation, uuid::UUID, vote::Vote)::Int</code></pre><p>Record a <code>vote</code> in a ballotbox found by proposal diggest stored in the vote.  Throws an error if a ballotbox can&#39;t be found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L514-L519">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.reset_tree!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Server.Controllers.reset_tree!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Server.Controllers.reset_tree!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reset_tree!(ledger::BallotBoxController)</code></pre><p>Recompute history tree root and cache from the elements in the ledger. This is a useful for loading the ledger all at once.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L73-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.set_seed!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Digest}" href="#PeaceFounder.Server.Controllers.set_seed!-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Digest}"><code>PeaceFounder.Server.Controllers.set_seed!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_seed!(ledger::BallotBoxController, seed::Digest)</code></pre><p>Set&#39;s a seed of the ballotbox.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L196-L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.set_seed!-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, PeaceFounder.Core.Model.Digest}" href="#PeaceFounder.Server.Controllers.set_seed!-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID, PeaceFounder.Core.Model.Digest}"><code>PeaceFounder.Server.Controllers.set_seed!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_seed!(station::PollingStation, uuid::UUID, seed::Digest)</code></pre><p>Sets a seed for a ballotbox with provided <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L592-L596">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.spine-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}" href="#PeaceFounder.Server.Controllers.spine-Tuple{PeaceFounder.Server.Controllers.BallotBoxController}"><code>PeaceFounder.Server.Controllers.spine</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spine(ledger::BallotBoxController)::Vector{Digest}</code></pre><p>Return a history tree leaf vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.spine-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}" href="#PeaceFounder.Server.Controllers.spine-Tuple{PeaceFounder.Server.Controllers.PollingStation, Base.UUID}"><code>PeaceFounder.Server.Controllers.spine</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spine(station::PollingStation, uuid::UUID)::Vector{Digest}</code></pre><p>Return a leaf vector for a ballotbox with proposal <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L564-L568">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PeaceFounder.Server.Controllers.validate-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Vote}" href="#PeaceFounder.Server.Controllers.validate-Tuple{PeaceFounder.Server.Controllers.BallotBoxController, PeaceFounder.Core.Model.Vote}"><code>PeaceFounder.Server.Controllers.validate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">validate(ledger::BallotBoxController, vote::Vote)</code></pre><p>Check that vote can be included in the ballotbox. Is well formed, signed by a member pseudonym and cryptographic signature is valid. Raises error if either of checks fail.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PeaceFounder/PeaceFounder.jl/blob/76cab4c394e43f468539fed3470bf452c74f71e7/src/Server/Controllers/ballotbox.jl#L309-L314">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../audittools/">« PeaceFounder.Core.AuditTools</a><a class="docs-footer-nextpage" href="../schedulers/">PeaceFounder.Schedulers »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Friday 1 August 2025 14:00">Friday 1 August 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
